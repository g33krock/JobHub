<app-modal [title]="'New Transaction'" [showModal]="showModal" (closeModal)="onCloseModal()">
  <div class="form-group">
    <label for="vendor">Vendor:</label>
    <select id="vendor" [(ngModel)]="selectedVendor" name="vendor">
      <option *ngFor="let vendor of vendors" [ngValue]="vendor">{{ vendor.first_name }} {{ vendor.last_name }}</option>
    </select>
  </div>
  <div class="form-group">
    <label for="customer">Customer:</label>
    <select id="customer" [(ngModel)]="selectedCustomer" name="customer">
      <option *ngFor="let customer of customers" [ngValue]="customer">{{ customer.first_name }} {{ customer.last_name }}</option>
    </select>
  </div>
  <div class="form-group">
    <label for="item">Item:</label>
    <select id="item" [(ngModel)]="selectedItem" name="item">
      <option *ngFor="let item of items" [ngValue]="item">{{ item.description }} - ${{ item.sale_price }}</option>
    </select>
  </div>
  <div class="form-group">
    <label for="quantity">Quantity:</label>
    <input type="number" id="quantity" [(ngModel)]="quantity" name="quantity" min="1">
  </div>
  <button type="button" (click)="addItem()">Add Item</button>
  
  <div *ngIf="selectedItems.length">
    <h3>Items:</h3>
    <ul>
      <li *ngFor="let selectedItem of selectedItems; let i = index">
        {{ selectedItem.item.description }} - Quantity: {{ selectedItem.quantity }} - Total: ${{ itemTotal(selectedItem) }}
        <button type="button" (click)="removeItem(i)">Remove</button>
      </li>
    </ul>
    <h3>Total: ${{ total }}</h3>
  </div>

  <div class="modal-footer">
    <button type="button" (click)="submitForm()">Submit</button>
  </div>
</app-modal>
